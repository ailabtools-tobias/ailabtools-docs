---
title: "Try on Clothes Refiner API"
description: "Try on Clothes Refiner API leverages advanced AI to intelligently enhance virtual try-on images, delivering highly realistic results with precise details and vibrant colors for a truly immersive online fitting experience."
openapi: 'POST /api/portrait/enhance/try-on-clothes-refiner'
---

## Request

- **URL**: `https://www.ailabapi.com/api/portrait/enhance/try-on-clothes-refiner`
- **Method**: `POST`
- **Content-Type**: `multipart/form-data`

### Image requirements

- **Image format**: `JPG` `JPEG` `PNG` `BMP`
- **Image size**: No more than 5 MB.
- **Image resolution**: Larger than 150x150px, smaller than 4096x4096px.
- **Pose requirements**: full-body front view with hands fully visible. Arm positioning should avoid wide openings, crossing, or other exaggerated gestures.

### Headers

| Field              | Required | Type     | Description                                        |
|:-------------------|:---------|:---------|:---------------------------------------------------|
| `ailabapi-api-key` | YES      | `string` | Application API KEY. [Get API KEY](/docs/get-api-key) |

### Body

| Field            | Required | Type     | Scope                           | Description                                                                   |
|:-----------------|:---------|:---------|:--------------------------------|:------------------------------------------------------------------------------|
| `task_type`      | YES      | `string` | ``async`` | Task Type. ``async`: Asynchronous tasks.`                              |
| `person_image`   | YES      | `file`   |                                 | Model image for calling the Try on Clothes API.                               |
| `top_garment`    | YES      | `file`   |                                 | Top clothing image for calling the Try on Clothes API.                        |
| `coarse_image`   | YES      | `file`   |                                 | Result image obtained from calling the Try on Clothes API.                    |
| `gender`         | YES      | `string` | ``woman``, ``man`` | Gender of the `person_image`. ``woman`: Female.` ``man`: Male.` |
| `bottom_garment` | NO       | `file`   |                                 | Bottom clothing image for calling the Try on Clothes API.                     |

## Response
<Warning>
**Response Field Handling Flow**

1. **Handle `Public Response Fields`**

   Parse and validate the `Public Response Fields`, checking the status code or response message to ensure the request is successful and error-free.

2. **Handle `Business Response Fields`**

   If the `Public Response Fields` are valid and error-free, proceed with processing the business logic in the `Business Response Fields`.
</Warning>
### Public Response Fields

<a href="/docs/response-description" target="_blank">Viewing Public Response Fields and Error Codes</a>

### Business Response Fields

| Field       | Type     | Scope            | Description                                                                                                                                   |
|:------------|:---------|:-----------------|:----------------------------------------------------------------------------------------------------------------------------------------------|
| `task_type` | `string` | ``async`` | Task Type. ``async`: Asynchronous tasks.`                                                                                              |
| `task_id`   | `string` |                  | Asynchronous task ID. <br/>**Please use this field when calling the [Querying Async Task Results](ai-common/async-task-results/api) API.** |

### Response Example

```json
{
  "request_id":     "",
  "log_id":         "",
  "error_code":     0,
  "error_msg":      "",
  "error_detail":   {
    "status_code":  200,
    "code":         "",
    "code_message": "",
    "message":      ""
  },
  "task_type":      "",
  "task_id":        ""
}
```
<Tip>
This API is asynchronous, please keep `task_id` and call [`Querying Async Task Results`](ai-common/async-task-results/api) to get the final results.

Asynchronous task results are valid for 24 hours. It is recommended that asynchronous task results be queried every 5 seconds.
</Tip>
## `Querying Async Task Results` Response
<Warning>
**Response Field Handling Flow**

1. **Handle `Public Response Fields`**

   Parse and validate the `Public Response Fields`, checking the status code or response message to ensure the request is successful and error-free.

2. **Handle `Business Response Fields`**

   If the `Public Response Fields` are valid and error-free, proceed with processing the business logic in the `Business Response Fields`.
</Warning>
### Public Response Fields

<a href="/docs/response-description" target="_blank">Viewing Public Response Fields and Error Codes</a>

### Business Response Fields

| Field          | Type      | Scope                                  | Description                                                                                                                                 |
|:---------------|:----------|:---------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------|
| `task_status`  | `integer` | ``0``, ``1``, ``2`` | Asynchronous task status. ``0`: The task is queued.` ``1`: Asynchronous processing.` ``2`: Processing was successful.` |
| `output`       | `object`  |                                        |                                                                                                                                             |
| +`image_url`   | `string`  |                                        | Result image URL.                                                                                                                           |
| `usage`        | `object`  |                                        |                                                                                                                                             |
| +`image_count` | `integer` |                                        | Number of generated images.                                                                                                                 |
<Tip>
The URL address is a temporary address, valid for 24 hours, and will not be accessible after it expires. If you need to save the file for a long time or permanently, please visit the URL address within 24 hours and download the file to your own storage space.
</Tip>
### Response Example

```json
{
   "error_code":     0,
   "error_msg":      "",
   "error_detail":   {
      "status_code":  200,
      "code":         "",
      "code_message": "",
      "message":      ""
   },
   "task_status":    0,
   "output":         {
      "image_url": ""
   },
   "usage":          {
      "image_count": 0
   }
}
```

## Sample Code
<Tip>
- [Introduction to Get Sample Code](get-sample-code)
- [Sample Code][PostmanURL]

[PostmanURL]: https://documenter.getpostman.com/view/26387069/2s93JxqgHE#75de8e09-37dd-4b31-b4f8-33a666cebb2a
</Tip>