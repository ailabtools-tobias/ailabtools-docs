---
title: "Smart Beauty Async API"
description: "Retouch Portraits is the ultimate tool for perfecting your photos with ease. Our advanced image processing technology offers a range of features such as sharpening, skin tone whitening, face slimming, facial features adjustment, spot and acne treatment, AI face slimming, and AI makeupâ€”all with just one click! Reduce the time spent editing photos, and achieve professional results without the hassle. With Retouch Portraits, your photos will look flawless."
openapi: 'POST /api/portrait/effects/smart-beauty'
---

## Request

- **URL**: `https://www.ailabapi.com/api/portrait/effects/smart-beauty`
- **Method**: `POST`
- **Content-Type**: `multipart/form-data`

### Image requirements

- **Image format**: `JPEG` `JPG` `BMP` `PNG`
- **Image size**: No more than 5 MB.
- **Image resolution**: Less than 4096x4096px.

### Headers

| Field              | Required | Type     | Description                                        |
|:-------------------|:---------|:---------|:---------------------------------------------------|
| `ailabapi-api-key` | YES      | `string` | Application API KEY. [Get API KEY](/doc/get-api-key) |

### Body

| Field          | Required | Type     | Scope                     | Default | Description                                                                                                                                                                                                                                                                                        |
|:---------------|:---------|:---------|:--------------------------|:--------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `task_type`    | YES      | `string` | ``async`` |         | ``async`: Asynchronous tasks.` |
| `image_target` | YES      | `file`   |                           |         |                                                                                                                                                                                                                                                                                                    |
| `multi_face`   | NO       | `string` | `` ``, ``1`` |         | Multiple-face beauty strategy. When set to `1`, beauty enhancement is applied to all faces (it is recommended that the number of faces in the image be less than 18, as too many faces may lead to instability). When set to any other value or not specified, only the largest face is processed. |
| `beauty_level` | NO       | `float`  | [0, 1]                    | `1`     | Beauty level.                                                                                                                                                                                                                                                                                      |

## Response
<Warning>
**Response Field Handling Flow**

1. **Handle `Public Response Fields`**

   Parse and validate the `Public Response Fields`, checking the status code or response message to ensure the request is successful and error-free.

2. **Handle `Business Response Fields`**

   If the `Public Response Fields` are valid and error-free, proceed with processing the business logic in the `Business Response Fields`.
</Warning>
### Public Response Fields

<a href="/doc/response-description" target="_blank">Viewing Public Response Fields and Error Codes</a>

### Business Response Fields

| Field       | Type     | Scope            | Description                                      |
|:------------|:---------|:-----------------|:-------------------------------------------------|
| `task_type` | `string` | ``async`` | Task Type. ``async`: Asynchronous tasks.` |
| `task_id`   | `string` |                  | Asynchronous task ID.                            |

### Response Example

```json
{
  "request_id":     "",
  "log_id":         "",
  "error_code":     0,
  "error_msg":      "",
  "error_detail":   {
    "status_code":  200,
    "code":         "",
    "code_message": "",
    "message":      ""
  },
  "task_type":      "",
  "task_id":        ""
}
```
<Tip>
This API is asynchronous, please keep `task_id` and call [`Querying Async Task Results`](ai-common/async-task-results/api) to get the final results.

Asynchronous task results are valid for 24 hours. It is recommended that asynchronous task results be queried every 5 seconds.
</Tip>
## `Querying Async Task Results` Response
<Warning>
**Response Field Handling Flow**

1. **Handle `Public Response Fields`**

   Parse and validate the `Public Response Fields`, checking the status code or response message to ensure the request is successful and error-free.

2. **Handle `Business Response Fields`**

   If the `Public Response Fields` are valid and error-free, proceed with processing the business logic in the `Business Response Fields`.
</Warning>
### Public Response Fields

<a href="/doc/response-description" target="_blank">Viewing Public Response Fields and Error Codes</a>

### Business Response Fields

| Field         | Type      | Scope                                  | Description                                                                                                                                 |
|:--------------|:----------|:---------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------|
| `task_status` | `integer` | ``0``, ``1``, ``2`` | Asynchronous task status. ``0`: The task is queued.` ``1`: Asynchronous processing.` ``2`: Processing was successful.` |
| `data`        | `object`  |                                        | The content of the result data returned.                                                                                                    |
| `image_url`   | `string`  |                                        | Result URL address.                                                                                                                         |
<Tip>
The URL address is a temporary address, valid for 24 hours, and will not be accessible after it expires. If you need to save the file for a long time or permanently, please visit the URL address within 24 hours and download the file to your own storage space.
</Tip>
### Response Example

```json
{
  "error_code":     0,
  "error_msg":      "",
  "error_detail":   {
    "status_code":  200,
    "code":         "",
    "code_message": "",
    "message":      ""
  },
  "task_status":    0,
  "data":           {
    "image_url": ""
  }
}
```

## Sample Code
<Tip>
**[ðŸ‘‰ Online Experience ðŸ‘ˆ](https://www.ailabtools.com/portrait-intelligent-beautification-example)**

If you'd like to see the actual effects, please visit the experience page for a trial.

- [Introduction to Get Sample Code](get-sample-code)
- [Sample Code][PostmanURL]

[PostmanURL]: https://documenter.getpostman.com/view/26387069/2s93JxqgHE#0cfa98ba-ff67-464e-9c21-8e497f829da8
</Tip>