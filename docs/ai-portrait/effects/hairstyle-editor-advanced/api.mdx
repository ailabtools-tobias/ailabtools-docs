---
title: "Hairstyle Changer Advanced API"
description: "Driven by deep learning algorithms, the API enables automatic portrait hairstyle and color transformations, offering up to dozens of styles and color options."
openapi: 'POST /api/portrait/effects/hairstyle-editor-advanced'
---

<Danger>
This API has been discontinued. Please refer to the latest API documentation.
</Danger>

## Request

- **URL**: `https://www.ailabapi.com/api/portrait/effects/hairstyle-editor-advanced`
- **Method**: `POST`
- **Content-Type**: `multipart/form-data`

### Image requirements

- **Image format**: `PNG` `JPG` `JPEG` `BMP` `TIFF` `WEBP`
- **Image size**: No more than 5 MB.
- **Image resolution**: Less than 1024x1024px.

### Headers

| Field              | Required | Type     | Description                                        |
|:-------------------|:---------|:---------|:---------------------------------------------------|
| `ailabapi-api-key` | YES      | `string` | Application API KEY. [Get API KEY](/docs/get-api-key) |

### Body

#### Fixed Fields

| Field          | Required                                                                                                                  | Type     | Scope                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Description                                                                                                                                                                                                                                           |
|:---------------|:--------------------------------------------------------------------------------------------------------------------------|:---------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `task_type`    | YES                                                                                                                       | `string` | ``async`` | Task Type. ``async`: Asynchronous tasks.`                                                                                                                                                                                                      |
| `image`        | YES                                                                                                                       | `file`   |                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                       |
| `editing_type` | YES                                                                                                                       | `string` | ``both``, ``hairstyle``, ``color`` | Edit Type. ``both`: Change the hairstyle & Change the color.` ``hairstyle`: Change the hairstyle.` ``color`: Change the color.`                                                                                                  |
| `gender`       | ``editing_type`=`both``, ``editing_type`=`hairstyle``, ``editing_type`=`color`` | `string` | ``male``, ``female`` | Gender. ``male`: Male.` ``female`: Female.`                                                                                                                                                                                             |
| `hair_style`   | ``editing_type`=`both``, ``editing_type`=`hairstyle``, ``editing_type`=`color`` | `string` | ``style_1``, ``style_2``, ``style_3``, ``style_4``, ``style_5``, ``style_6``, ``style_7``, ``style_8``, ``style_9``, ``style_10``, ``style_11``, ``style_12``, ``style_13``, ``style_14``, ``style_15``, ``style_16``, ``style_17``, ``style_18`` | Hairstyle. `[See the results of men's hairstyles](ai-portrait/effects/hairstyle-editor-advanced.md#hairstyles-for-men)` `[See the effect of women's hairstyles](ai-portrait/effects/hairstyle-editor-advanced.md#hairstyles-for-women)` |
| `color`        | ``editing_type`=`both``, ``editing_type`=`color``, ``editing_type`=`hairstyle`` | `string` | ``color_1``, ``color_2``, ``color_3``, ``color_4``, ``color_5``, ``color_6``, ``color_7``, ``color_8``, ``color_9``, ``color_10``, ``color_11``, ``color_12``, ``color_13``, ``color_14``, ``color_15``, ``color_16``, ``color_17``, ``color_18``, ``color_19``, ``color_20`` | Color. (ai-portrait/effects/hairstyle-editor-advanced.md#hair-colors)                                                                                                                                                                    |

## Response

**Response Field Handling Flow**

1. **Handle `Public Response Fields`**

   Parse and validate the `Public Response Fields`, checking the status code or response message to ensure the request is successful and error-free.

2. **Handle `Business Response Fields`**

   If the `Public Response Fields` are valid and error-free, proceed with processing the business logic in the `Business Response Fields`.

### Public Response Fields

<a href="/docs/response-description" target="_blank">Viewing Public Response Fields and Error Codes</a>

### Business Response Fields

| Field       | Type     | Scope            | Description                                                                                                                                   |
|:------------|:---------|:-----------------|:----------------------------------------------------------------------------------------------------------------------------------------------|
| `task_type` | `string` | ``async`` | Task Type. ``async`: Asynchronous tasks.`                                                                                              |
| `task_id`   | `string` |                  | Asynchronous task ID. <br/>**Please use this field when calling the [Querying Async Task Results](ai-common/async-task-results/api) API.** |

### Response Example

```json
,
  "task_type":      "",
  "task_id":        ""
}
```

This API is asynchronous, please keep `task_id` and call [`Querying Async Task Results`](ai-common/async-task-results/api) to get the final results.

Asynchronous task results are valid for 24 hours. It is recommended that asynchronous task results be queried every 5 seconds.

## `Querying Async Task Results` Response

**Response Field Handling Flow**

1. **Handle `Public Response Fields`**

   Parse and validate the `Public Response Fields`, checking the status code or response message to ensure the request is successful and error-free.

2. **Handle `Business Response Fields`**

   If the `Public Response Fields` are valid and error-free, proceed with processing the business logic in the `Business Response Fields`.

### Public Response Fields

<a href="/docs/response-description" target="_blank">Viewing Public Response Fields and Error Codes</a>

### Business Response Fields

| Field              | Type      | Scope                                  | Description                                                                                                                                 |
|:-------------------|:----------|:---------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------|
| `task_status`      | `integer` | ``0``, ``1``, ``2`` | Asynchronous task status. ``0`: The task is queued.` ``1`: Asynchronous processing.` ``2`: Processing was successful.` |
| `data`             | `object`  |                                        | The content of the result data returned.                                                                                                    |
| +`cropped_image`   | `string`  |                                        | Cropped face image URL.                                                                                                                     |
| +`hairstyle_image` | `string`  |                                        | Resulting graph URL.                                                                                                                        |

The URL address is a temporary address, valid for 24 hours, and will not be accessible after it expires. If you need to save the file for a long time or permanently, please visit the URL address within 24 hours and download the file to your own storage space.

### Response Example

```json
,
  "task_status":    0,
  "data":           
}
```

## Sample Code

- [Introduction to Get Sample Code](get-sample-code)
- [Sample Code][PostmanURL]

[PostmanURL]: https://documenter.getpostman.com/view/26387069/2s93JxqgHE#8e8b2f58-6d2d-44be-bf34-00938240cb75